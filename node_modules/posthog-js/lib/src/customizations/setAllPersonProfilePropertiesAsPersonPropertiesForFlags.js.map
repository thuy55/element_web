{"version":3,"file":"setAllPersonProfilePropertiesAsPersonPropertiesForFlags.js","sourceRoot":"","sources":["../../../src/customizations/setAllPersonProfilePropertiesAsPersonPropertiesForFlags.ts"],"names":[],"mappings":";;;AACA,oDAM6B;AAC7B,kCAAuC;AACvC,sCAAwC;AAEjC,IAAM,uDAAuD,GAAG,UAAC,OAAgB;IACpF,IAAM,aAAa,GAAG,IAAA,cAAM,EACxB,EAAE,EACF,IAAA,gCAAkB,EACd,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAC5C,OAAO,CAAC,MAAM,CAAC,+BAA+B,CACjD,EACD,IAAA,+BAAiB,EACb,OAAO,CAAC,MAAM,CAAC,sBAAsB,EACrC,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAC5C,OAAO,CAAC,MAAM,CAAC,+BAA+B,CACjD,EACD,IAAA,6BAAe,GAAE,CACpB,CAAA;IACD,IAAM,gBAAgB,GAA2B,EAAE,CAAA;IACnD,IAAA,YAAI,EAAC,aAAa,EAAE,UAAU,CAAC,EAAE,CAAS;QACtC,IAAI,IAAA,eAAQ,EAAC,6BAAe,EAAE,CAAC,CAAC,IAAI,IAAA,eAAQ,EAAC,wCAA0B,EAAE,CAAC,CAAC,EAAE,CAAC;YAC1E,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;QAC3B,CAAC;IACL,CAAC,CAAC,CAAA;IAEF,OAAO,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,CAAA;AACzD,CAAC,CAAA;AAtBY,QAAA,uDAAuD,2DAsBnE","sourcesContent":["import { PostHog } from '../posthog-core'\nimport {\n    CAMPAIGN_PARAMS,\n    getCampaignParams,\n    EVENT_TO_PERSON_PROPERTIES,\n    getEventProperties,\n    getReferrerInfo,\n} from '../utils/event-utils'\nimport { each, extend } from '../utils'\nimport { includes } from '@posthog/core'\n\nexport const setAllPersonProfilePropertiesAsPersonPropertiesForFlags = (posthog: PostHog): void => {\n    const allProperties = extend(\n        {},\n        getEventProperties(\n            posthog.config.mask_personal_data_properties,\n            posthog.config.custom_personal_data_properties\n        ),\n        getCampaignParams(\n            posthog.config.custom_campaign_params,\n            posthog.config.mask_personal_data_properties,\n            posthog.config.custom_personal_data_properties\n        ),\n        getReferrerInfo()\n    )\n    const personProperties: Record<string, string> = {}\n    each(allProperties, function (v, k: string) {\n        if (includes(CAMPAIGN_PARAMS, k) || includes(EVENT_TO_PERSON_PROPERTIES, k)) {\n            personProperties[k] = v\n        }\n    })\n\n    posthog.setPersonPropertiesForFlags(personProperties)\n}\n"]}
!function(){"use strict";var n="undefined"!=typeof window?window:void 0,r="undefined"!=typeof globalThis?globalThis:n,o=null==r?void 0:r.navigator;null==r||r.document,null==r||r.location,null==r||r.fetch,null!=r&&r.XMLHttpRequest&&"withCredentials"in new r.XMLHttpRequest&&r.XMLHttpRequest,null==r||r.AbortController,null==o||o.userAgent;var i=null!=n?n:{},e=r=>{var o={o:function(o){if(n&&i.POSTHOG_DEBUG&&void 0!==n.console&&n.console){for(var e=("__rrweb_original__"in n.console[o]?n.console[o].__rrweb_original__:n.console[o]),t=arguments.length,l=new Array(t>1?t-1:0),a=1;a<t;a++)l[a-1]=arguments[a];e(r,...l)}},info:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o.o("log",...r)},warn:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o.o("warn",...r)},error:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o.o("error",...r)},critical:function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];console.error(r,...o)},uninitializedWarning:n=>{o.error("You must initialize PostHog before calling "+n)},createLogger:n=>e(r+" "+n)};return o},t=(0,e("[PostHog.js]").createLogger)("[PostHog Intercom integration]"),l=new Set,a=void 0;i.__PosthogExtensions__=i.__PosthogExtensions__||{},i.__PosthogExtensions__.integrations=i.__PosthogExtensions__.integrations||{},i.__PosthogExtensions__.integrations.intercom={start:n=>{var r;if(null!=(r=n.config.integrations)&&r.intercom){var o=i.Intercom;if(o){a=n.onSessionId((r=>{var i,e;l.has(r)||(i=n.get_session_replay_url(),e=n.requestRouter.endpointFor("ui","/project/"+n.config.token+"/person/"+n.get_distinct_id()),o("update",{latestPosthogReplayURL:i,latestPosthogPersonURL:e}),o("trackEvent","posthog:sessionInfo",{replayUrl:i,personUrl:e}),l.add(r))})),t.info("integration started")}else t.warn("Intercom not found while initializing the integration")}},stop:()=>{null==a||a(),a=void 0}}}();
//# sourceMappingURL=intercom-integration.js.map

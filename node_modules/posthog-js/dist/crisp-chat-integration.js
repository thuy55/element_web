!function(){"use strict";var n="undefined"!=typeof window?window:void 0,i="undefined"!=typeof globalThis?globalThis:n,r=null==i?void 0:i.navigator;null==i||i.document,null==i||i.location,null==i||i.fetch,null!=i&&i.XMLHttpRequest&&"withCredentials"in new i.XMLHttpRequest&&i.XMLHttpRequest,null==i||i.AbortController,null==r||r.userAgent;var o=null!=n?n:{},e=i=>{var r={i:function(r){if(n&&o.POSTHOG_DEBUG&&void 0!==n.console&&n.console){for(var e=("__rrweb_original__"in n.console[r]?n.console[r].__rrweb_original__:n.console[r]),t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];e(i,...a)}},info:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.i("log",...i)},warn:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.i("warn",...i)},error:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.i("error",...i)},critical:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];console.error(i,...r)},uninitializedWarning:n=>{r.error("You must initialize PostHog before calling "+n)},createLogger:n=>e(i+" "+n)};return r},t=(0,e("[PostHog.js]").createLogger)("[PostHog Crisp Chat]"),a=new Set,l=void 0;o.__PosthogExtensions__=o.__PosthogExtensions__||{},o.__PosthogExtensions__.integrations=o.__PosthogExtensions__.integrations||{},o.__PosthogExtensions__.integrations.crispChat={start:n=>{var i;if(null!=(i=n.config.integrations)&&i.crispChat){var r=o.$crisp;if(r){l=n.onSessionId((i=>{var o,e;a.has(i)||(o=n.get_session_replay_url(),e=n.requestRouter.endpointFor("ui","/project/"+n.config.token+"/person/"+n.get_distinct_id()),r.push(["set","session:data",[[["posthogSessionURL",o],["posthogPersonURL",e]]]]),a.add(i))})),t.info("integration started")}else t.warn("Crisp Chat not found while initializing the integration")}},stop:()=>{null==l||l(),l=void 0}}}();
//# sourceMappingURL=crisp-chat-integration.js.map

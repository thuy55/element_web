{"version":3,"file":"Alert.cjs","sources":["../../../src/components/Alert/Alert.tsx"],"sourcesContent":["/*\nCopyright 2023 New Vector Ltd.\n\nSPDX-License-Identifier: AGPL-3.0-only OR LicenseRef-Element-Commercial\nPlease see LICENSE files in the repository root for full details.\n*/\n\nimport classNames from \"classnames\";\nimport React, { type PropsWithChildren, useCallback } from \"react\";\n\nimport CheckCircleIcon from \"@vector-im/compound-design-tokens/assets/web/icons/check-circle\";\nimport ErrorIcon from \"@vector-im/compound-design-tokens/assets/web/icons/error-solid\";\nimport InfoIcon from \"@vector-im/compound-design-tokens/assets/web/icons/info\";\nimport CloseIcon from \"@vector-im/compound-design-tokens/assets/web/icons/close\";\n\nimport styles from \"./Alert.module.css\";\nimport { Text } from \"../Typography/Text\";\nimport { IconButton } from \"../Button\";\n\ntype AlertProps = {\n  /**\n   * The type of alert\n   */\n  type: \"success\" | \"critical\" | \"info\";\n  /**\n   * The headline of the alert.\n   */\n  title: string;\n  /**\n   * The CSS class name.\n   */\n  className?: string;\n  /**\n   * Actions that will be displayed to the right of the content\n   * Wraps and stacks actions under content when alert's size is <=600px\n   * eg\n   * ```\n   * <Alert\n   *  title='Title'\n   *  actions={<Button onClick={doSomething}>Yes</Button>}\n   * />\n   * ```\n   */\n  actions?: React.ReactNode;\n  /**\n   * Event callback when dismissing the alert. Determines the display of the\n   * \"close\" button at the top right of the alert.\n   * @param e the event parameters\n   */\n  onClose?: (e: React.MouseEvent) => void;\n};\n\n/**\n * An alert component component that is dismissable when passing an `onClose`\n * property.\n */\nexport const Alert: React.FC<PropsWithChildren<AlertProps>> = ({\n  type,\n  title,\n  children,\n  className,\n  actions,\n  onClose,\n  ...props\n}: PropsWithChildren<AlertProps>) => {\n  const classes = classNames(styles.alert, className);\n\n  const renderIcon = useCallback(\n    (props: React.ComponentProps<typeof ErrorIcon>) => {\n      switch (type) {\n        case \"critical\":\n          return <ErrorIcon {...props} />;\n        case \"info\":\n          return <InfoIcon {...props} />;\n        case \"success\":\n          return <CheckCircleIcon {...props} />;\n      }\n    },\n    [type],\n  );\n\n  return (\n    <div {...props} className={classes} data-type={type}>\n      {renderIcon({\n        width: 24,\n        height: 24,\n        className: styles.icon,\n        \"aria-hidden\": true,\n      })}\n      <div className={styles.content}>\n        <div className={styles[\"text-content\"]}>\n          <Text size=\"md\" weight=\"semibold\">\n            {title}\n          </Text>\n          <Text size=\"sm\" weight=\"regular\">\n            {children}\n          </Text>\n        </div>\n        {actions && <div className={styles.actions}>{actions}</div>}\n      </div>\n      {/* TODO: Setup an i18n function for the aria label below */}\n      {onClose && (\n        <IconButton\n          onClick={onClose}\n          aria-label=\"Close\"\n          role=\"button\"\n          className={styles.close}\n        >\n          <CloseIcon />\n        </IconButton>\n      )}\n    </div>\n  );\n};\n"],"names":["styles","useCallback","props","jsx","jsxs","Text","IconButton"],"mappings":";;;;;;;;;;;;AAwDO,MAAM,QAAiD,CAAC;AAAA,EAC7D;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,MAAqC;AACnC,QAAM,UAAU,WAAWA,qBAAO,OAAO,SAAS;AAElD,QAAM,aAAaC,MAAAA;AAAAA,IACjB,CAACC,WAAkD;AACjD,cAAQ,MAAA;AAAA,QACN,KAAK;AACH,iBAAOC,+BAAC,WAAA,EAAW,GAAGD,OAAAA,CAAO;AAAA,QAC/B,KAAK;AACH,iBAAOC,+BAAC,UAAA,EAAU,GAAGD,OAAAA,CAAO;AAAA,QAC9B,KAAK;AACH,iBAAOC,+BAAC,iBAAA,EAAiB,GAAGD,OAAAA,CAAO;AAAA,MAAA;AAAA,IAEzC;AAAA,IACA,CAAC,IAAI;AAAA,EAAA;AAGP,yCACG,OAAA,EAAK,GAAG,OAAO,WAAW,SAAS,aAAW,MAC5C,UAAA;AAAA,IAAA,WAAW;AAAA,MACV,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,WAAWF,aAAAA,QAAO;AAAA,MAClB,eAAe;AAAA,IAAA,CAChB;AAAA,IACDI,2BAAAA,KAAC,OAAA,EAAI,WAAWJ,aAAAA,QAAO,SACrB,UAAA;AAAA,MAAAI,2BAAAA,KAAC,OAAA,EAAI,WAAWJ,aAAAA,QAAO,cAAc,GACnC,UAAA;AAAA,QAAAG,+BAACE,KAAAA,MAAA,EAAK,MAAK,MAAK,QAAO,YACpB,UAAA,OACH;AAAA,uCACCA,KAAAA,MAAA,EAAK,MAAK,MAAK,QAAO,WACpB,SAAA,CACH;AAAA,MAAA,GACF;AAAA,MACC,WAAWF,2BAAAA,IAAC,OAAA,EAAI,WAAWH,aAAAA,QAAO,SAAU,UAAA,QAAA,CAAQ;AAAA,IAAA,GACvD;AAAA,IAEC,WACCG,2BAAAA;AAAAA,MAACG,WAAAA;AAAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,cAAW;AAAA,QACX,MAAK;AAAA,QACL,WAAWN,aAAAA,QAAO;AAAA,QAElB,yCAAC,WAAA,CAAA,CAAU;AAAA,MAAA;AAAA,IAAA;AAAA,EACb,GAEJ;AAEJ;;"}
{"version":3,"file":"Separator.js","sources":["../../../src/components/Separator/Separator.tsx"],"sourcesContent":["/*\nCopyright 2023, 2024 New Vector Ltd.\n\nSPDX-License-Identifier: AGPL-3.0-only OR LicenseRef-Element-Commercial\nPlease see LICENSE files in the repository root for full details.\n*/\n\nimport classnames from \"classnames\";\nimport * as RadixSeparator from \"@radix-ui/react-separator\";\nimport React, {\n  type ComponentProps,\n  type PropsWithoutRef,\n  type Ref,\n  forwardRef,\n  useEffect,\n  useRef,\n} from \"react\";\nimport styles from \"./Separator.module.css\";\nimport { useMergeRefs } from \"@floating-ui/react\";\n\ntype SeparatorProps = {\n  /**\n   * The CSS class name.\n   */\n  className?: string;\n  /**\n   * The spacing on either side of the separator.\n   * @default var(--cpd-space-2x)\n   */\n  spacing?: string;\n  /**\n   * The style of separator.\n   * @default primary\n   */\n  kind?: \"primary\" | \"secondary\" | \"section\";\n} & ComponentProps<typeof RadixSeparator.Root>;\n\nconst SPACING_CUSTOM_PROP = \"--cpd-separator-spacing\";\n\n/**\n * A separator component.\n */\nexport const Separator = forwardRef(\n  (\n    {\n      className,\n      spacing, // Default provided via global.css\n      kind = \"primary\",\n      ...props\n    }: PropsWithoutRef<SeparatorProps>,\n    theirRef?: Ref<HTMLDivElement>,\n  ) => {\n    const classes = classnames(styles.separator, className);\n    const ourRef = useRef<HTMLDivElement | null>(null);\n    const ref = useMergeRefs([ourRef, theirRef]);\n\n    useEffect(() => {\n      const style = ourRef.current?.style;\n      if (spacing) {\n        style?.setProperty(SPACING_CUSTOM_PROP, spacing);\n      } else {\n        style?.removeProperty(SPACING_CUSTOM_PROP);\n      }\n    }, [spacing]);\n\n    return (\n      <RadixSeparator.Root\n        {...props}\n        className={classes}\n        ref={ref}\n        data-kind={kind}\n      />\n    );\n  },\n);\n\nSeparator.displayName = \"Separator\";\n"],"names":["classnames"],"mappings":";;;;;;AAqCA,MAAM,sBAAsB;AAKrB,MAAM,YAAY;AAAA,EACvB,CACE;AAAA,IACE;AAAA,IACA;AAAA;AAAA,IACA,OAAO;AAAA,IACP,GAAG;AAAA,EAAA,GAEL,aACG;AACH,UAAM,UAAUA,WAAW,OAAO,WAAW,SAAS;AACtD,UAAM,SAAS,OAA8B,IAAI;AACjD,UAAM,MAAM,aAAa,CAAC,QAAQ,QAAQ,CAAC;AAE3C,cAAU,MAAM;AACd,YAAM,QAAQ,OAAO,SAAS;AAC9B,UAAI,SAAS;AACX,eAAO,YAAY,qBAAqB,OAAO;AAAA,MACjD,OAAO;AACL,eAAO,eAAe,mBAAmB;AAAA,MAC3C;AAAA,IACF,GAAG,CAAC,OAAO,CAAC;AAEZ,WACE;AAAA,MAAC,eAAe;AAAA,MAAf;AAAA,QACE,GAAG;AAAA,QACJ,WAAW;AAAA,QACX;AAAA,QACA,aAAW;AAAA,MAAA;AAAA,IAAA;AAAA,EAGjB;AACF;AAEA,UAAU,cAAc;"}
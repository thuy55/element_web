(function(U,b){typeof exports=="object"&&typeof module<"u"?b(exports):typeof define=="function"&&define.amd?define(["exports"],b):(U=typeof globalThis<"u"?globalThis:U||self,b(U["element-web-plugin-engine"]={}))})(this,function(U){"use strict";var b={exports:{}},Z,Je;function B(){if(Je)return Z;Je=1;const r="2.0.0",i=256,t=Number.MAX_SAFE_INTEGER||9007199254740991,s=16,a=i-6;return Z={MAX_LENGTH:i,MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Z}var J,Qe;function W(){if(Qe)return J;Qe=1;var r={env:{}};return J=typeof r=="object"&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},J}var er;function M(){return er||(er=1,function(r,i){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:a}=B(),p=W();i=r.exports={};const c=i.re=[],f=i.safeRe=[],n=i.src=[],e=i.t={};let o=0;const u="[a-zA-Z0-9-]",l=[["\\s",1],["\\d",a],[u,s]],m=g=>{for(const[O,w]of l)g=g.split(`${O}*`).join(`${O}{0,${w}}`).split(`${O}+`).join(`${O}{1,${w}}`);return g},E=(g,O,w)=>{const _=m(O),T=o++;p(g,T,O),e[g]=T,n[T]=O,c[T]=new RegExp(O,w?"g":void 0),f[T]=new RegExp(_,w?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*"),E("NUMERICIDENTIFIERLOOSE","\\d+"),E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${u}*`),E("MAINVERSION",`(${n[e.NUMERICIDENTIFIER]})\\.(${n[e.NUMERICIDENTIFIER]})\\.(${n[e.NUMERICIDENTIFIER]})`),E("MAINVERSIONLOOSE",`(${n[e.NUMERICIDENTIFIERLOOSE]})\\.(${n[e.NUMERICIDENTIFIERLOOSE]})\\.(${n[e.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASEIDENTIFIER",`(?:${n[e.NUMERICIDENTIFIER]}|${n[e.NONNUMERICIDENTIFIER]})`),E("PRERELEASEIDENTIFIERLOOSE",`(?:${n[e.NUMERICIDENTIFIERLOOSE]}|${n[e.NONNUMERICIDENTIFIER]})`),E("PRERELEASE",`(?:-(${n[e.PRERELEASEIDENTIFIER]}(?:\\.${n[e.PRERELEASEIDENTIFIER]})*))`),E("PRERELEASELOOSE",`(?:-?(${n[e.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[e.PRERELEASEIDENTIFIERLOOSE]})*))`),E("BUILDIDENTIFIER",`${u}+`),E("BUILD",`(?:\\+(${n[e.BUILDIDENTIFIER]}(?:\\.${n[e.BUILDIDENTIFIER]})*))`),E("FULLPLAIN",`v?${n[e.MAINVERSION]}${n[e.PRERELEASE]}?${n[e.BUILD]}?`),E("FULL",`^${n[e.FULLPLAIN]}$`),E("LOOSEPLAIN",`[v=\\s]*${n[e.MAINVERSIONLOOSE]}${n[e.PRERELEASELOOSE]}?${n[e.BUILD]}?`),E("LOOSE",`^${n[e.LOOSEPLAIN]}$`),E("GTLT","((?:<|>)?=?)"),E("XRANGEIDENTIFIERLOOSE",`${n[e.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),E("XRANGEIDENTIFIER",`${n[e.NUMERICIDENTIFIER]}|x|X|\\*`),E("XRANGEPLAIN",`[v=\\s]*(${n[e.XRANGEIDENTIFIER]})(?:\\.(${n[e.XRANGEIDENTIFIER]})(?:\\.(${n[e.XRANGEIDENTIFIER]})(?:${n[e.PRERELEASE]})?${n[e.BUILD]}?)?)?`),E("XRANGEPLAINLOOSE",`[v=\\s]*(${n[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[e.XRANGEIDENTIFIERLOOSE]})(?:${n[e.PRERELEASELOOSE]})?${n[e.BUILD]}?)?)?`),E("XRANGE",`^${n[e.GTLT]}\\s*${n[e.XRANGEPLAIN]}$`),E("XRANGELOOSE",`^${n[e.GTLT]}\\s*${n[e.XRANGEPLAINLOOSE]}$`),E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),E("COERCE",`${n[e.COERCEPLAIN]}(?:$|[^\\d])`),E("COERCEFULL",n[e.COERCEPLAIN]+`(?:${n[e.PRERELEASE]})?(?:${n[e.BUILD]})?(?:$|[^\\d])`),E("COERCERTL",n[e.COERCE],!0),E("COERCERTLFULL",n[e.COERCEFULL],!0),E("LONETILDE","(?:~>?)"),E("TILDETRIM",`(\\s*)${n[e.LONETILDE]}\\s+`,!0),i.tildeTrimReplace="$1~",E("TILDE",`^${n[e.LONETILDE]}${n[e.XRANGEPLAIN]}$`),E("TILDELOOSE",`^${n[e.LONETILDE]}${n[e.XRANGEPLAINLOOSE]}$`),E("LONECARET","(?:\\^)"),E("CARETTRIM",`(\\s*)${n[e.LONECARET]}\\s+`,!0),i.caretTrimReplace="$1^",E("CARET",`^${n[e.LONECARET]}${n[e.XRANGEPLAIN]}$`),E("CARETLOOSE",`^${n[e.LONECARET]}${n[e.XRANGEPLAINLOOSE]}$`),E("COMPARATORLOOSE",`^${n[e.GTLT]}\\s*(${n[e.LOOSEPLAIN]})$|^$`),E("COMPARATOR",`^${n[e.GTLT]}\\s*(${n[e.FULLPLAIN]})$|^$`),E("COMPARATORTRIM",`(\\s*)${n[e.GTLT]}\\s*(${n[e.LOOSEPLAIN]}|${n[e.XRANGEPLAIN]})`,!0),i.comparatorTrimReplace="$1$2$3",E("HYPHENRANGE",`^\\s*(${n[e.XRANGEPLAIN]})\\s+-\\s+(${n[e.XRANGEPLAIN]})\\s*$`),E("HYPHENRANGELOOSE",`^\\s*(${n[e.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[e.XRANGEPLAINLOOSE]})\\s*$`),E("STAR","(<|>)?=?\\s*\\*"),E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(b,b.exports)),b.exports}var Q,rr;function ee(){if(rr)return Q;rr=1;const r=Object.freeze({loose:!0}),i=Object.freeze({});return Q=s=>s?typeof s!="object"?r:s:i,Q}var re,tr;function sr(){if(tr)return re;tr=1;const r=/^[0-9]+$/,i=(s,a)=>{const p=r.test(s),c=r.test(a);return p&&c&&(s=+s,a=+a),s===a?0:p&&!c?-1:c&&!p?1:s<a?-1:1};return re={compareIdentifiers:i,rcompareIdentifiers:(s,a)=>i(a,s)},re}var te,nr;function D(){if(nr)return te;nr=1;const r=W(),{MAX_LENGTH:i,MAX_SAFE_INTEGER:t}=B(),{safeRe:s,t:a}=M(),p=ee(),{compareIdentifiers:c}=sr();class f{constructor(e,o){if(o=p(o),e instanceof f){if(e.loose===!!o.loose&&e.includePrerelease===!!o.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const u=e.trim().match(o.loose?s[a.LOOSE]:s[a.FULL]);if(!u)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+u[1],this.minor=+u[2],this.patch=+u[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");u[4]?this.prerelease=u[4].split(".").map(l=>{if(/^[0-9]+$/.test(l)){const m=+l;if(m>=0&&m<t)return m}return l}):this.prerelease=[],this.build=u[5]?u[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof f)){if(typeof e=="string"&&e===this.version)return 0;e=new f(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof f||(e=new f(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let o=0;do{const u=this.prerelease[o],l=e.prerelease[o];if(r("prerelease compare",o,u,l),u===void 0&&l===void 0)return 0;if(l===void 0)return 1;if(u===void 0)return-1;if(u===l)continue;return c(u,l)}while(++o)}compareBuild(e){e instanceof f||(e=new f(e,this.options));let o=0;do{const u=this.build[o],l=e.build[o];if(r("build compare",o,u,l),u===void 0&&l===void 0)return 0;if(l===void 0)return 1;if(u===void 0)return-1;if(u===l)continue;return c(u,l)}while(++o)}inc(e,o,u){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,u);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,u);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,u),this.inc("pre",o,u);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,u),this.inc("pre",o,u);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const l=Number(u)?1:0;if(!o&&u===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[l];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(o===this.prerelease.join(".")&&u===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(l)}}if(o){let m=[o,l];u===!1&&(m=[o]),c(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return te=f,te}var se,ir;function x(){if(ir)return se;ir=1;const r=D();return se=(t,s,a=!1)=>{if(t instanceof r)return t;try{return new r(t,s)}catch(p){if(!a)return null;throw p}},se}var ne,ar;function zr(){if(ar)return ne;ar=1;const r=x();return ne=(t,s)=>{const a=r(t,s);return a?a.version:null},ne}var ie,or;function Kr(){if(or)return ie;or=1;const r=x();return ie=(t,s)=>{const a=r(t.trim().replace(/^[=v]+/,""),s);return a?a.version:null},ie}var ae,ur;function Zr(){if(ur)return ae;ur=1;const r=D();return ae=(t,s,a,p,c)=>{typeof a=="string"&&(c=p,p=a,a=void 0);try{return new r(t instanceof r?t.version:t,a).inc(s,p,c).version}catch{return null}},ae}var oe,cr;function Jr(){if(cr)return oe;cr=1;const r=x();return oe=(t,s)=>{const a=r(t,null,!0),p=r(s,null,!0),c=a.compare(p);if(c===0)return null;const f=c>0,n=f?a:p,e=f?p:a,o=!!n.prerelease.length;if(!!e.prerelease.length&&!o)return!e.patch&&!e.minor?"major":n.patch?"patch":n.minor?"minor":"major";const l=o?"pre":"";return a.major!==p.major?l+"major":a.minor!==p.minor?l+"minor":a.patch!==p.patch?l+"patch":"prerelease"},oe}var ue,lr;function Qr(){if(lr)return ue;lr=1;const r=D();return ue=(t,s)=>new r(t,s).major,ue}var ce,fr;function et(){if(fr)return ce;fr=1;const r=D();return ce=(t,s)=>new r(t,s).minor,ce}var le,hr;function rt(){if(hr)return le;hr=1;const r=D();return le=(t,s)=>new r(t,s).patch,le}var fe,Er;function tt(){if(Er)return fe;Er=1;const r=x();return fe=(t,s)=>{const a=r(t,s);return a&&a.prerelease.length?a.prerelease:null},fe}var he,pr;function F(){if(pr)return he;pr=1;const r=D();return he=(t,s,a)=>new r(t,a).compare(new r(s,a)),he}var Ee,Rr;function st(){if(Rr)return Ee;Rr=1;const r=F();return Ee=(t,s,a)=>r(s,t,a),Ee}var pe,mr;function nt(){if(mr)return pe;mr=1;const r=F();return pe=(t,s)=>r(t,s,!0),pe}var Re,dr;function me(){if(dr)return Re;dr=1;const r=D();return Re=(t,s,a)=>{const p=new r(t,a),c=new r(s,a);return p.compare(c)||p.compareBuild(c)},Re}var de,$r;function it(){if($r)return de;$r=1;const r=me();return de=(t,s)=>t.sort((a,p)=>r(a,p,s)),de}var $e,Ir;function at(){if(Ir)return $e;Ir=1;const r=me();return $e=(t,s)=>t.sort((a,p)=>r(p,a,s)),$e}var Ie,vr;function Y(){if(vr)return Ie;vr=1;const r=F();return Ie=(t,s,a)=>r(t,s,a)>0,Ie}var ve,Lr;function Le(){if(Lr)return ve;Lr=1;const r=F();return ve=(t,s,a)=>r(t,s,a)<0,ve}var Ne,Nr;function Or(){if(Nr)return Ne;Nr=1;const r=F();return Ne=(t,s,a)=>r(t,s,a)===0,Ne}var Oe,Sr;function gr(){if(Sr)return Oe;Sr=1;const r=F();return Oe=(t,s,a)=>r(t,s,a)!==0,Oe}var Se,Tr;function ge(){if(Tr)return Se;Tr=1;const r=F();return Se=(t,s,a)=>r(t,s,a)>=0,Se}var Te,Ar;function Ae(){if(Ar)return Te;Ar=1;const r=F();return Te=(t,s,a)=>r(t,s,a)<=0,Te}var we,wr;function qr(){if(wr)return we;wr=1;const r=Or(),i=gr(),t=Y(),s=ge(),a=Le(),p=Ae();return we=(f,n,e,o)=>{switch(n){case"===":return typeof f=="object"&&(f=f.version),typeof e=="object"&&(e=e.version),f===e;case"!==":return typeof f=="object"&&(f=f.version),typeof e=="object"&&(e=e.version),f!==e;case"":case"=":case"==":return r(f,e,o);case"!=":return i(f,e,o);case">":return t(f,e,o);case">=":return s(f,e,o);case"<":return a(f,e,o);case"<=":return p(f,e,o);default:throw new TypeError(`Invalid operator: ${n}`)}},we}var qe,Cr;function ot(){if(Cr)return qe;Cr=1;const r=D(),i=x(),{safeRe:t,t:s}=M();return qe=(p,c)=>{if(p instanceof r)return p;if(typeof p=="number"&&(p=String(p)),typeof p!="string")return null;c=c||{};let f=null;if(!c.rtl)f=p.match(c.includePrerelease?t[s.COERCEFULL]:t[s.COERCE]);else{const m=c.includePrerelease?t[s.COERCERTLFULL]:t[s.COERCERTL];let E;for(;(E=m.exec(p))&&(!f||f.index+f[0].length!==p.length);)(!f||E.index+E[0].length!==f.index+f[0].length)&&(f=E),m.lastIndex=E.index+E[1].length+E[2].length;m.lastIndex=-1}if(f===null)return null;const n=f[2],e=f[3]||"0",o=f[4]||"0",u=c.includePrerelease&&f[5]?`-${f[5]}`:"",l=c.includePrerelease&&f[6]?`+${f[6]}`:"";return i(`${n}.${e}.${o}${u}${l}`,c)},qe}var Ce,Pr;function ut(){if(Pr)return Ce;Pr=1;class r{constructor(){this.max=1e3,this.map=new Map}get(t){const s=this.map.get(t);if(s!==void 0)return this.map.delete(t),this.map.set(t,s),s}delete(t){return this.map.delete(t)}set(t,s){if(!this.delete(t)&&s!==void 0){if(this.map.size>=this.max){const p=this.map.keys().next().value;this.delete(p)}this.map.set(t,s)}return this}}return Ce=r,Ce}var Pe,yr;function V(){if(yr)return Pe;yr=1;const r=/\s+/g;class i{constructor(h,I){if(I=a(I),h instanceof i)return h.loose===!!I.loose&&h.includePrerelease===!!I.includePrerelease?h:new i(h.raw,I);if(h instanceof p)return this.raw=h.value,this.set=[[h]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=h.trim().replace(r," "),this.set=this.raw.split("||").map(d=>this.parseRange(d.trim())).filter(d=>d.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const d=this.set[0];if(this.set=this.set.filter(v=>!g(v[0])),this.set.length===0)this.set=[d];else if(this.set.length>1){for(const v of this.set)if(v.length===1&&O(v[0])){this.set=[v];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let h=0;h<this.set.length;h++){h>0&&(this.formatted+="||");const I=this.set[h];for(let d=0;d<I.length;d++)d>0&&(this.formatted+=" "),this.formatted+=I[d].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(h){const d=((this.options.includePrerelease&&m)|(this.options.loose&&E))+":"+h,v=s.get(d);if(v)return v;const $=this.options.loose,L=$?n[e.HYPHENRANGELOOSE]:n[e.HYPHENRANGE];h=h.replace(L,Ke(this.options.includePrerelease)),c("hyphen replace",h),h=h.replace(n[e.COMPARATORTRIM],o),c("comparator trim",h),h=h.replace(n[e.TILDETRIM],u),c("tilde trim",h),h=h.replace(n[e.CARETTRIM],l),c("caret trim",h);let A=h.split(" ").map(P=>_(P,this.options)).join(" ").split(/\s+/).map(P=>ze(P,this.options));$&&(A=A.filter(P=>(c("loose invalid filter",P,this.options),!!P.match(n[e.COMPARATORLOOSE])))),c("range list",A);const S=new Map,q=A.map(P=>new p(P,this.options));for(const P of q){if(g(P))return[P];S.set(P.value,P)}S.size>1&&S.has("")&&S.delete("");const G=[...S.values()];return s.set(d,G),G}intersects(h,I){if(!(h instanceof i))throw new TypeError("a Range is required");return this.set.some(d=>w(d,I)&&h.set.some(v=>w(v,I)&&d.every($=>v.every(L=>$.intersects(L,I)))))}test(h){if(!h)return!1;if(typeof h=="string")try{h=new f(h,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(Ze(this.set[I],h,this.options))return!0;return!1}}Pe=i;const t=ut(),s=new t,a=ee(),p=z(),c=W(),f=D(),{safeRe:n,t:e,comparatorTrimReplace:o,tildeTrimReplace:u,caretTrimReplace:l}=M(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:E}=B(),g=R=>R.value==="<0.0.0-0",O=R=>R.value==="",w=(R,h)=>{let I=!0;const d=R.slice();let v=d.pop();for(;I&&d.length;)I=d.every($=>v.intersects($,h)),v=d.pop();return I},_=(R,h)=>(c("comp",R,h),R=C(R,h),c("caret",R),R=X(R,h),c("tildes",R),R=N(R,h),c("xrange",R),R=Ye(R,h),c("stars",R),R),T=R=>!R||R.toLowerCase()==="x"||R==="*",X=(R,h)=>R.trim().split(/\s+/).map(I=>j(I,h)).join(" "),j=(R,h)=>{const I=h.loose?n[e.TILDELOOSE]:n[e.TILDE];return R.replace(I,(d,v,$,L,A)=>{c("tilde",R,d,v,$,L,A);let S;return T(v)?S="":T($)?S=`>=${v}.0.0 <${+v+1}.0.0-0`:T(L)?S=`>=${v}.${$}.0 <${v}.${+$+1}.0-0`:A?(c("replaceTilde pr",A),S=`>=${v}.${$}.${L}-${A} <${v}.${+$+1}.0-0`):S=`>=${v}.${$}.${L} <${v}.${+$+1}.0-0`,c("tilde return",S),S})},C=(R,h)=>R.trim().split(/\s+/).map(I=>y(I,h)).join(" "),y=(R,h)=>{c("caret",R,h);const I=h.loose?n[e.CARETLOOSE]:n[e.CARET],d=h.includePrerelease?"-0":"";return R.replace(I,(v,$,L,A,S)=>{c("caret",R,v,$,L,A,S);let q;return T($)?q="":T(L)?q=`>=${$}.0.0${d} <${+$+1}.0.0-0`:T(A)?$==="0"?q=`>=${$}.${L}.0${d} <${$}.${+L+1}.0-0`:q=`>=${$}.${L}.0${d} <${+$+1}.0.0-0`:S?(c("replaceCaret pr",S),$==="0"?L==="0"?q=`>=${$}.${L}.${A}-${S} <${$}.${L}.${+A+1}-0`:q=`>=${$}.${L}.${A}-${S} <${$}.${+L+1}.0-0`:q=`>=${$}.${L}.${A}-${S} <${+$+1}.0.0-0`):(c("no pr"),$==="0"?L==="0"?q=`>=${$}.${L}.${A}${d} <${$}.${L}.${+A+1}-0`:q=`>=${$}.${L}.${A}${d} <${$}.${+L+1}.0-0`:q=`>=${$}.${L}.${A} <${+$+1}.0.0-0`),c("caret return",q),q})},N=(R,h)=>(c("replaceXRanges",R,h),R.split(/\s+/).map(I=>H(I,h)).join(" ")),H=(R,h)=>{R=R.trim();const I=h.loose?n[e.XRANGELOOSE]:n[e.XRANGE];return R.replace(I,(d,v,$,L,A,S)=>{c("xRange",R,d,v,$,L,A,S);const q=T($),G=q||T(L),P=G||T(A),k=P;return v==="="&&k&&(v=""),S=h.includePrerelease?"-0":"",q?v===">"||v==="<"?d="<0.0.0-0":d="*":v&&k?(G&&(L=0),A=0,v===">"?(v=">=",G?($=+$+1,L=0,A=0):(L=+L+1,A=0)):v==="<="&&(v="<",G?$=+$+1:L=+L+1),v==="<"&&(S="-0"),d=`${v+$}.${L}.${A}${S}`):G?d=`>=${$}.0.0${S} <${+$+1}.0.0-0`:P&&(d=`>=${$}.${L}.0${S} <${$}.${+L+1}.0-0`),c("xRange return",d),d})},Ye=(R,h)=>(c("replaceStars",R,h),R.trim().replace(n[e.STAR],"")),ze=(R,h)=>(c("replaceGTE0",R,h),R.trim().replace(n[h.includePrerelease?e.GTE0PRE:e.GTE0],"")),Ke=R=>(h,I,d,v,$,L,A,S,q,G,P,k)=>(T(d)?I="":T(v)?I=`>=${d}.0.0${R?"-0":""}`:T($)?I=`>=${d}.${v}.0${R?"-0":""}`:L?I=`>=${I}`:I=`>=${I}${R?"-0":""}`,T(q)?S="":T(G)?S=`<${+q+1}.0.0-0`:T(P)?S=`<${q}.${+G+1}.0-0`:k?S=`<=${q}.${G}.${P}-${k}`:R?S=`<${q}.${G}.${+P+1}-0`:S=`<=${S}`,`${I} ${S}`.trim()),Ze=(R,h,I)=>{for(let d=0;d<R.length;d++)if(!R[d].test(h))return!1;if(h.prerelease.length&&!I.includePrerelease){for(let d=0;d<R.length;d++)if(c(R[d].semver),R[d].semver!==p.ANY&&R[d].semver.prerelease.length>0){const v=R[d].semver;if(v.major===h.major&&v.minor===h.minor&&v.patch===h.patch)return!0}return!1}return!0};return Pe}var ye,Dr;function z(){if(Dr)return ye;Dr=1;const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(o,u){if(u=t(u),o instanceof i){if(o.loose===!!u.loose)return o;o=o.value}o=o.trim().split(/\s+/).join(" "),c("comparator",o,u),this.options=u,this.loose=!!u.loose,this.parse(o),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(o){const u=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],l=o.match(u);if(!l)throw new TypeError(`Invalid comparator: ${o}`);this.operator=l[1]!==void 0?l[1]:"",this.operator==="="&&(this.operator=""),l[2]?this.semver=new f(l[2],this.options.loose):this.semver=r}toString(){return this.value}test(o){if(c("Comparator.test",o,this.options.loose),this.semver===r||o===r)return!0;if(typeof o=="string")try{o=new f(o,this.options)}catch{return!1}return p(o,this.operator,this.semver,this.options)}intersects(o,u){if(!(o instanceof i))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new n(o.value,u).test(this.value):o.operator===""?o.value===""?!0:new n(this.value,u).test(o.semver):(u=t(u),u.includePrerelease&&(this.value==="<0.0.0-0"||o.value==="<0.0.0-0")||!u.includePrerelease&&(this.value.startsWith("<0.0.0")||o.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&o.operator.startsWith(">")||this.operator.startsWith("<")&&o.operator.startsWith("<")||this.semver.version===o.semver.version&&this.operator.includes("=")&&o.operator.includes("=")||p(this.semver,"<",o.semver,u)&&this.operator.startsWith(">")&&o.operator.startsWith("<")||p(this.semver,">",o.semver,u)&&this.operator.startsWith("<")&&o.operator.startsWith(">")))}}ye=i;const t=ee(),{safeRe:s,t:a}=M(),p=qr(),c=W(),f=D(),n=V();return ye}var De,Gr;function K(){if(Gr)return De;Gr=1;const r=V();return De=(t,s,a)=>{try{s=new r(s,a)}catch{return!1}return s.test(t)},De}var Ge,_r;function ct(){if(_r)return Ge;_r=1;const r=V();return Ge=(t,s)=>new r(t,s).set.map(a=>a.map(p=>p.value).join(" ").trim().split(" ")),Ge}var _e,jr;function lt(){if(jr)return _e;jr=1;const r=D(),i=V();return _e=(s,a,p)=>{let c=null,f=null,n=null;try{n=new i(a,p)}catch{return null}return s.forEach(e=>{n.test(e)&&(!c||f.compare(e)===-1)&&(c=e,f=new r(c,p))}),c},_e}var je,Fr;function ft(){if(Fr)return je;Fr=1;const r=D(),i=V();return je=(s,a,p)=>{let c=null,f=null,n=null;try{n=new i(a,p)}catch{return null}return s.forEach(e=>{n.test(e)&&(!c||f.compare(e)===1)&&(c=e,f=new r(c,p))}),c},je}var Fe,Vr;function ht(){if(Vr)return Fe;Vr=1;const r=D(),i=V(),t=Y();return Fe=(a,p)=>{a=new i(a,p);let c=new r("0.0.0");if(a.test(c)||(c=new r("0.0.0-0"),a.test(c)))return c;c=null;for(let f=0;f<a.set.length;++f){const n=a.set[f];let e=null;n.forEach(o=>{const u=new r(o.semver.version);switch(o.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!e||t(u,e))&&(e=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),e&&(!c||t(c,e))&&(c=e)}return c&&a.test(c)?c:null},Fe}var Ve,Ur;function Et(){if(Ur)return Ve;Ur=1;const r=V();return Ve=(t,s)=>{try{return new r(t,s).range||"*"}catch{return null}},Ve}var Ue,Xr;function Xe(){if(Xr)return Ue;Xr=1;const r=D(),i=z(),{ANY:t}=i,s=V(),a=K(),p=Y(),c=Le(),f=Ae(),n=ge();return Ue=(o,u,l,m)=>{o=new r(o,m),u=new s(u,m);let E,g,O,w,_;switch(l){case">":E=p,g=f,O=c,w=">",_=">=";break;case"<":E=c,g=n,O=p,w="<",_="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(o,u,m))return!1;for(let T=0;T<u.set.length;++T){const X=u.set[T];let j=null,C=null;if(X.forEach(y=>{y.semver===t&&(y=new i(">=0.0.0")),j=j||y,C=C||y,E(y.semver,j.semver,m)?j=y:O(y.semver,C.semver,m)&&(C=y)}),j.operator===w||j.operator===_||(!C.operator||C.operator===w)&&g(o,C.semver))return!1;if(C.operator===_&&O(o,C.semver))return!1}return!0},Ue}var be,br;function pt(){if(br)return be;br=1;const r=Xe();return be=(t,s,a)=>r(t,s,">",a),be}var xe,xr;function Rt(){if(xr)return xe;xr=1;const r=Xe();return xe=(t,s,a)=>r(t,s,"<",a),xe}var Me,Mr;function mt(){if(Mr)return Me;Mr=1;const r=V();return Me=(t,s,a)=>(t=new r(t,a),s=new r(s,a),t.intersects(s,a)),Me}var He,Hr;function dt(){if(Hr)return He;Hr=1;const r=K(),i=F();return He=(t,s,a)=>{const p=[];let c=null,f=null;const n=t.sort((l,m)=>i(l,m,a));for(const l of n)r(l,s,a)?(f=l,c||(c=l)):(f&&p.push([c,f]),f=null,c=null);c&&p.push([c,null]);const e=[];for(const[l,m]of p)l===m?e.push(l):!m&&l===n[0]?e.push("*"):m?l===n[0]?e.push(`<=${m}`):e.push(`${l} - ${m}`):e.push(`>=${l}`);const o=e.join(" || "),u=typeof s.raw=="string"?s.raw:String(s);return o.length<u.length?o:s},He}var ke,kr;function $t(){if(kr)return ke;kr=1;const r=V(),i=z(),{ANY:t}=i,s=K(),a=F(),p=(u,l,m={})=>{if(u===l)return!0;u=new r(u,m),l=new r(l,m);let E=!1;e:for(const g of u.set){for(const O of l.set){const w=n(g,O,m);if(E=E||w!==null,w)continue e}if(E)return!1}return!0},c=[new i(">=0.0.0-0")],f=[new i(">=0.0.0")],n=(u,l,m)=>{if(u===l)return!0;if(u.length===1&&u[0].semver===t){if(l.length===1&&l[0].semver===t)return!0;m.includePrerelease?u=c:u=f}if(l.length===1&&l[0].semver===t){if(m.includePrerelease)return!0;l=f}const E=new Set;let g,O;for(const N of u)N.operator===">"||N.operator===">="?g=e(g,N,m):N.operator==="<"||N.operator==="<="?O=o(O,N,m):E.add(N.semver);if(E.size>1)return null;let w;if(g&&O){if(w=a(g.semver,O.semver,m),w>0)return null;if(w===0&&(g.operator!==">="||O.operator!=="<="))return null}for(const N of E){if(g&&!s(N,String(g),m)||O&&!s(N,String(O),m))return null;for(const H of l)if(!s(N,String(H),m))return!1;return!0}let _,T,X,j,C=O&&!m.includePrerelease&&O.semver.prerelease.length?O.semver:!1,y=g&&!m.includePrerelease&&g.semver.prerelease.length?g.semver:!1;C&&C.prerelease.length===1&&O.operator==="<"&&C.prerelease[0]===0&&(C=!1);for(const N of l){if(j=j||N.operator===">"||N.operator===">=",X=X||N.operator==="<"||N.operator==="<=",g){if(y&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===y.major&&N.semver.minor===y.minor&&N.semver.patch===y.patch&&(y=!1),N.operator===">"||N.operator===">="){if(_=e(g,N,m),_===N&&_!==g)return!1}else if(g.operator===">="&&!s(g.semver,String(N),m))return!1}if(O){if(C&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===C.major&&N.semver.minor===C.minor&&N.semver.patch===C.patch&&(C=!1),N.operator==="<"||N.operator==="<="){if(T=o(O,N,m),T===N&&T!==O)return!1}else if(O.operator==="<="&&!s(O.semver,String(N),m))return!1}if(!N.operator&&(O||g)&&w!==0)return!1}return!(g&&X&&!O&&w!==0||O&&j&&!g&&w!==0||y||C)},e=(u,l,m)=>{if(!u)return l;const E=a(u.semver,l.semver,m);return E>0?u:E<0||l.operator===">"&&u.operator===">="?l:u},o=(u,l,m)=>{if(!u)return l;const E=a(u.semver,l.semver,m);return E<0?u:E>0||l.operator==="<"&&u.operator==="<="?l:u};return ke=p,ke}var Be,Br;function It(){if(Br)return Be;Br=1;const r=M(),i=B(),t=D(),s=sr(),a=x(),p=zr(),c=Kr(),f=Zr(),n=Jr(),e=Qr(),o=et(),u=rt(),l=tt(),m=F(),E=st(),g=nt(),O=me(),w=it(),_=at(),T=Y(),X=Le(),j=Or(),C=gr(),y=ge(),N=Ae(),H=qr(),Ye=ot(),ze=z(),Ke=V(),Ze=K(),R=ct(),h=lt(),I=ft(),d=ht(),v=Et(),$=Xe(),L=pt(),A=Rt(),S=mt(),q=dt(),G=$t();return Be={parse:a,valid:p,clean:c,inc:f,diff:n,major:e,minor:o,patch:u,prerelease:l,compare:m,rcompare:E,compareLoose:g,compareBuild:O,sort:w,rsort:_,gt:T,lt:X,eq:j,neq:C,gte:y,lte:N,cmp:H,coerce:Ye,Comparator:ze,Range:Ke,satisfies:Ze,toComparators:R,maxSatisfying:h,minSatisfying:I,minVersion:d,validRange:v,outside:$,gtr:L,ltr:A,intersects:S,simplifyRange:q,subset:G,SemVer:t,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers},Be}var vt=It();const Lt={load:"function"},Nt={moduleApiVersion:"string",prototype:"object"},Ot={default:"function"};function We(r,i,t){if(r===null||typeof r!==i)return!1;for(const s in t)if(typeof r[s]!==t[s])return!1;return!0}function St(r){return We(r,"object",Ot)&&We(r.default,"function",Nt)&&We(r.default.prototype,"object",Lt)}class Wr extends Error{constructor(i){super(`Plugin version ${i} is incompatible with engine version 1.4.1`)}}class gt{constructor(i){this.api=i}modules=[];started=!1;async load(i){if(this.started)throw new Error("PluginEngine.start() has already been called");if(!St(i))throw new Error("Invalid plugin");if(!vt.satisfies("1.4.1",i.default.moduleApiVersion))throw new Wr(i.default.moduleApiVersion);const{default:t}=i;this.modules.push(new t(this.api))}async start(){if(this.started)throw new Error("PluginEngine.start() has already been called");this.started=!0,await Promise.all(this.modules.map(i=>i.load()))}}function Tt(r,i){return Object.keys(r).length===Object.keys(i).length&&Object.keys(r).every(t=>r[t]===i[t])}function Yr(r){return r!==null&&typeof r=="object"}class At{constructor(i){this.currentValue=i}listeners=new Set;get value(){return this.currentValue}set value(i){if(i!==this.currentValue&&!(Yr(i)&&Yr(this.currentValue)&&Tt(this.currentValue,i))){this.currentValue=i;for(const t of this.listeners)t(this.currentValue)}}watch(i){this.listeners.add(i)}unwatch(i){this.listeners.delete(i)}}function wt(r){const[i,t]=window.React.useState(r.value);return window.React.useEffect(()=>(t(r.value),r.watch(t),()=>{r.unwatch(t)}),[r]),i}U.ModuleIncompatibleError=Wr,U.ModuleLoader=gt,U.Watchable=At,U.useWatchable=wt,Object.defineProperty(U,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=element-web-plugin-engine.umd.cjs.map
